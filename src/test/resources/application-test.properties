# 테스트용 설정
# Test Configuration

# H2 인메모리 데이터베이스 사용
spring.datasource.url=jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA 설정
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# Kafka 설정 (실제 Kafka 서버 사용)
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.consumer.group-id=cex-consumer-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer
# Consumer가 메시지를 받을 수 있도록 설정
spring.kafka.consumer.enable-auto-commit=true
spring.kafka.consumer.auto-commit-interval=100
# Consumer 시작 대기 시간
spring.kafka.listener.ack-mode=record
spring.kafka.listener.concurrency=1

# Bot 설정 (테스트용 기본값)
# 필드명: camelCase -> 설정 키: kebab-case
bot.bot1-email=bot1@bot.com
bot.bot1-password=botpassword
bot.bot2-email=bot2@bot.com
bot.bot2-password=botpassword
bot.binance-ws-url=wss://stream.binance.com:9443/ws/solusdt@depth20@100ms
bot.binance-symbol=SOLUSDT
bot.orderbook-depth=200
bot.order-quantity=1.0

# gRPC 설정 (테스트용, 실제 서버 없어도 됨)
# 테스트에서는 gRPC 호출이 실패해도 괜찮음 (rejected 상태로 처리됨)
engine.grpc.host=localhost
engine.grpc.port=50051

# Jackson 설정 제거 (enum 변환 문제 방지)
# spring.jackson 설정은 테스트에서 사용하지 않음
# application.properties의 spring.jackson 설정이 상속되지 않도록 함

# 로깅 설정
logging.level.root=INFO
logging.level.dustin.cex=DEBUG
